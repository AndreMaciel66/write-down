{"version":3,"sources":["../node_modules/markdown-it-imsize/lib/imsize/types sync /^/.*$","components/ArticleList.module.css","components/ArticleInfoSetting.module.css","components/Header.module.css","components/PhotoSearch.module.css","components/ArticleEdit.module.css","components/PhotoSearchList.js","components/PhotoSearch.js","utils/index.js","components/data.js","components/ArticleInfoSetting.js","components/Header.js","components/MarkdownParser.js","components/Editor.js","assets/markdown-test-file.js","components/ArticleEdit.js","components/ArticleList.js","App.js","serviceWorker.js","index.js"],"names":["map","./bmp","./bmp.js","./gif","./gif.js","./jpg","./jpg.js","./png","./png.js","./psd","./psd.js","./svg","./svg.js","./tiff","./tiff.js","./webp","./webp.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","font","list","itemWrapper","imageWrapper","image","contentWrapper","title","infoWrapper","author","postedTime","excerpt","editOptionsBar","editOption","tagListWrapper","tagList","tagInput","button","submitButtonWrapper","coverSettingTip","coverPreviewArea","coverPreviewImage","coverPreviewAreaTipWrapper","coverPreviewAreaTip","coverPreviewAreaTipWithFeedback","infoPreviewWrapper","infoPreviewImageWrapper","infoPreviewImage","infoPreviewHeader","infoPreviewTitle","infoPreviewExcerpt","header","divider","editorSettingContainer","editorSettingItem","photoGridContainer","photoGrid","photoItemWrapper","photoLink","photoAuthor","photoMask","photo","pager","noImageFeedback","articleEditWrapper","editorWrapper","editor","editorOnly","editorHide","previewWrapper","preview","previewOnly","previewHide","PhotoSearchList","selectPhoto","_this","props","onSelect","onPageChange","newPage","PhotoItems","_this2","this","total","data","results","react_default","a","createElement","className","styles","length","img","PhotoSearchList_Photo","thumbUrl","urls","thumb","regularUrl","regular","user","links","html","name","link","key","onPhotoSelect","pagination","simple","current","currentPage","pageSize","onChange","lib_default","gutterWidth","gutterHeight","columnWidth","monitorImagesLoaded","Component","Photo","onClick","_this3","src","alt","href","target","rel","icon","type","theme","unsplash","Unsplash","applicationId","secret","callbackUrl","PhotoSearch","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getTheKeyword","keyword","setState","doSearch","state","search","photos","then","toJson","searchResult","dataResult","SelectPhoto","selectCover","style","marginTop","row","justify","align","col","width","PhotoSearch_PhotoSearchBar","components_PhotoSearchList","PhotoSearchBar","onSearch","value","input","Search","placeholder","enterButton","React","delay","timeout","Promise","setTimeout","checkImageUrlIsValid","url","reject","Image","onload","onerror","formData","_id","coverUrl","createdAt","updatedAt","tags","markdown","metaData","mockData","InfoSettingPreview","isCoverUrlValid","backgroundImage","concat","InfoSettingButton","popover","content","ArticleInfoSetting_InfoSettingPreview","trigger","mouseEnterDelay","formItemLayout","labelCol","span","wrapperCol","ArticleInfoSettingModal","showModal","visible","handleOk","formRef","form","getFieldsValue","console","log","handleCancel","setFormRef","ArticleInfoSetting_InfoSettingButton","modal","top","onCancel","footer","destroyOnClose","WrappedFormInModal","afterSubmit","ArticleInfoForm","cover","setFieldsValue","checkCoverUrl","undefined","_ref","asyncToGenerator","regenerator_default","mark","_callee2","rule","cb","wrap","_context2","prev","next","sent","isUrlChanged","t0","coverPreviewMsg","stop","_x","_x2","_x3","apply","arguments","onSubmit","preventDefault","validateFields","fieldsError","_this$props$form","getFieldDecorator","getFieldsError","isFieldTouched","getFieldError","es_form","Item","assign","label","initialValue","rules","required","message","max","TextArea","rows","autosize","validator","es_button","htmlType","disabled","some","field","collapse","bordered","Panel","tabs","defaultActiveKey","TabPane","tab","components_PhotoSearch","Form","create","EditPageHeader","offset","Link","to","Header_MoreButton","ArticleInfoSetting","Header_SettingButton","toggleDisplayMode","toggleScrollSync","Header_UserButton","GeneralHeader","MoreMenu","menu","MoreButton","dropdown","overlay","placement","EditorSettingMenu","es_switch","defaultChecked","gutter","es_radio","Group","defaultValue","buttonStyle","size","Button","SettingButton","Header_EditorSettingMenu","UserMenu","Divider","UserButton","md","MarkdownIt","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","use","abbr","anchor","level","deflist","emoji","footnote","highlight","imsize","autofill","sub","sup","taskList","TOC","includeLevel","renderer","token","idx","twemoji","parse","Editor","options","mode","tabSize","styleActiveLine","lineWrapping","viewportMargin","react_codemirror2","onBeforeChange","handleUpdate","markdownContent","trim","ArticleEdit","handleSourceUpdate","handleScrollSyncToggle","isScrollSyncEnabled","scrollSync","handleDisplayModeChange","_callee","nextDisplayMode","_context","displayMode","syncScrollManually","lastDisplayMode","saveScrollTop","editorScrollDistance","$editor","scrollTop","previewScrollDistance","$preview","_ref2","prevDisplayMode","scrollingProportion","_scrollingProportion","abrupt","getScrollingProportion","getCalculatedScrollTop","_x4","markdownFeatureSrc","codeMirrorOption","lineWiseCopyCut","document","querySelector","match","params","node","matches","scrollHeight","clientHeight","toFixed","proportion","Math","round","currentMode","renderResult","__html","MarkdownParser","render","Header_EditPageHeader","dist","enabled","toggleStyleOfEditor","ref","onScroll","throttle","trailing","components_Editor","toggleStyleOfPreviewer","ArticleEdit_Preview","Preview","dangerouslySetInnerHTML","Radio","dayjs","extend","relativeTime","ArticlesPage","isLoggedIn","ArticleList","ArticleList_ArticleItem","Fragment","Header_GeneralHeader","sm","xs","ArticleItem","handleTagsEditableToggle","prevState","isTagsEditable","handleTagsUpdate","newTagsArray","_this$props$metaData","fromNow","slice","ArticleList_EditableTagGroup","isEditable","EditableTagGroup","inputVisible","inputValue","saveInputRef","_this4","handleClose","removedTag","filter","tag","showInput","focus","handleInputChange","handleInputConfirm","indexOf","toConsumableArray","_this5","_this$state","_this$props","isLongTag","tagElem","es_tag","closable","afterClose","tooltip","onBlur","onPressEnter","borderStyle","App","HashRouter","App_AppRouter","AppRouter","Route","exact","path","component","DraftPage","UserPage","Boolean","window","location","hostname","ReactDOM","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c5333d1c.chunk.js","sourcesContent":["var map = {\n\t\"./bmp\": 173,\n\t\"./bmp.js\": 173,\n\t\"./gif\": 174,\n\t\"./gif.js\": 174,\n\t\"./jpg\": 175,\n\t\"./jpg.js\": 175,\n\t\"./png\": 176,\n\t\"./png.js\": 176,\n\t\"./psd\": 177,\n\t\"./psd.js\": 177,\n\t\"./svg\": 178,\n\t\"./svg.js\": 178,\n\t\"./tiff\": 179,\n\t\"./tiff.js\": 179,\n\t\"./webp\": 180,\n\t\"./webp.js\": 180\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 172;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"font\":\"ArticleList_font__3pEpq\",\"list\":\"ArticleList_list__3nMsj\",\"itemWrapper\":\"ArticleList_itemWrapper__1hmCg ArticleList_font__3pEpq\",\"imageWrapper\":\"ArticleList_imageWrapper__2AP5B ArticleInfoSetting_infoPreviewImageWrapper__GKIwC\",\"image\":\"ArticleList_image__TwucT ArticleInfoSetting_infoPreviewImage__15XV8\",\"contentWrapper\":\"ArticleList_contentWrapper__T1bO2\",\"title\":\"ArticleList_title__1uhuG ArticleInfoSetting_infoPreviewTitle__EpHqE\",\"infoWrapper\":\"ArticleList_infoWrapper__1qM0q\",\"author\":\"ArticleList_author__3TBsA\",\"postedTime\":\"ArticleList_postedTime__12eRn\",\"excerpt\":\"ArticleList_excerpt__1TGuY ArticleInfoSetting_infoPreviewExcerpt__3TPVD\",\"editOptionsBar\":\"ArticleList_editOptionsBar__1LcR8\",\"editOption\":\"ArticleList_editOption__2S3PH Header_button__3lCOI\",\"tagListWrapper\":\"ArticleList_tagListWrapper__9w5eT\",\"tagList\":\"ArticleList_tagList__3UB86\",\"tagInput\":\"ArticleList_tagInput__1-C7s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ArticleInfoSetting_button__35Jb3 Header_button__3lCOI\",\"submitButtonWrapper\":\"ArticleInfoSetting_submitButtonWrapper__35w9L\",\"coverSettingTip\":\"ArticleInfoSetting_coverSettingTip__3uXG4\",\"coverPreviewArea\":\"ArticleInfoSetting_coverPreviewArea__2qUHl\",\"coverPreviewImage\":\"ArticleInfoSetting_coverPreviewImage__2D9M5\",\"coverPreviewAreaTipWrapper\":\"ArticleInfoSetting_coverPreviewAreaTipWrapper__2IjJC\",\"coverPreviewAreaTip\":\"ArticleInfoSetting_coverPreviewAreaTip__21ZLQ\",\"coverPreviewAreaTipWithFeedback\":\"ArticleInfoSetting_coverPreviewAreaTipWithFeedback__3q8W4 ArticleInfoSetting_coverPreviewAreaTip__21ZLQ\",\"infoPreviewWrapper\":\"ArticleInfoSetting_infoPreviewWrapper__2jULz\",\"infoPreviewImageWrapper\":\"ArticleInfoSetting_infoPreviewImageWrapper__GKIwC\",\"infoPreviewImage\":\"ArticleInfoSetting_infoPreviewImage__15XV8\",\"infoPreviewHeader\":\"ArticleInfoSetting_infoPreviewHeader__3Qs1K\",\"infoPreviewTitle\":\"ArticleInfoSetting_infoPreviewTitle__EpHqE\",\"infoPreviewExcerpt\":\"ArticleInfoSetting_infoPreviewExcerpt__3TPVD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3AFwm\",\"button\":\"Header_button__3lCOI\",\"divider\":\"Header_divider__18jPW\",\"editorSettingContainer\":\"Header_editorSettingContainer__3cG-k\",\"editorSettingItem\":\"Header_editorSettingItem__2bUi_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoGridContainer\":\"PhotoSearch_photoGridContainer__1Eu5p\",\"photoGrid\":\"PhotoSearch_photoGrid__11Iuq\",\"photoItemWrapper\":\"PhotoSearch_photoItemWrapper__1P5XK\",\"photoLink\":\"PhotoSearch_photoLink__uQXmo\",\"photoAuthor\":\"PhotoSearch_photoAuthor__286Xm\",\"photoMask\":\"PhotoSearch_photoMask__2cjlm\",\"photo\":\"PhotoSearch_photo__IS2kA\",\"pager\":\"PhotoSearch_pager__GdyUA\",\"noImageFeedback\":\"PhotoSearch_noImageFeedback__1h33J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"articleEditWrapper\":\"ArticleEdit_articleEditWrapper__2UMes\",\"editorWrapper\":\"ArticleEdit_editorWrapper__3s-vN\",\"editor\":\"ArticleEdit_editor__1grCg\",\"editorOnly\":\"ArticleEdit_editorOnly__2fezw ArticleEdit_editor__1grCg\",\"editorHide\":\"ArticleEdit_editorHide__1CuSF ArticleEdit_editor__1grCg\",\"previewWrapper\":\"ArticleEdit_previewWrapper__1tVBx\",\"preview\":\"ArticleEdit_preview__2Ki3Y\",\"previewOnly\":\"ArticleEdit_previewOnly__2doQF ArticleEdit_preview__2Ki3Y\",\"previewHide\":\"ArticleEdit_previewHide__1eSCC ArticleEdit_preview__2Ki3Y\"};","import React, { Component } from \"react\";\r\nimport { Icon, Pagination } from \"antd\";\r\nimport StackGrid from \"react-stack-grid\";\r\n\r\nimport styles from './PhotoSearch.module.css';\r\n\r\nclass PhotoSearchList extends Component {\r\n  selectPhoto = (photoLink) => {\r\n    this.props.onSelect(photoLink);\r\n  };\r\n\r\n  onPageChange = (newPage) => {\r\n    this.props.onPageChange(newPage);\r\n  };\r\n\r\n  render() {\r\n    const total = this.props.data.total;\r\n    const results = this.props.data.results;\r\n\r\n    let PhotoItems;\r\n\r\n    if (typeof total === 'undefined') {\r\n      return null;\r\n    } else if (total === 0) {\r\n      return (\r\n        <div className={styles.noImageFeedback}>\r\n          No photos match your requirement.\r\n        </div>\r\n      )\r\n    } else {\r\n      if (results && results.length > 0) {\r\n\r\n        PhotoItems = results.map(img =>\r\n          <Photo\r\n            thumbUrl={img.urls.thumb}\r\n            regularUrl={img.urls.regular}\r\n            user={img.user.links.html}\r\n            name={img.user.name}\r\n            link={img.links.html}\r\n            key={img.id}\r\n            onPhotoSelect={this.selectPhoto}\r\n          />\r\n        );\r\n\r\n        return (\r\n          <div className={styles.photoGridContainer}>\r\n            <Pagination\r\n              className={styles.pager}\r\n              simple\r\n              current={this.props.currentPage}\r\n              pageSize={this.props.pageSize}\r\n              total={total}\r\n              onChange={this.onPageChange}\r\n            />\r\n\r\n            <StackGrid\r\n              className={styles.photoGrid}\r\n              gutterWidth={16}\r\n              gutterHeight={16}\r\n              columnWidth={195}\r\n              monitorImagesLoaded={true}\r\n            >\r\n              {PhotoItems}\r\n            </StackGrid>\r\n\r\n            <Pagination\r\n              className={styles.pager}\r\n              simple\r\n              current={this.props.currentPage}\r\n              pageSize={this.props.pageSize}\r\n              total={total}\r\n              onChange={this.onPageChange}\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nclass Photo extends Component {\r\n  onClick = () => {\r\n    this.props.onPhotoSelect(this.props.regularUrl);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.photoItemWrapper}>\r\n        <img\r\n          className={styles.photo + ' photo'}\r\n          src={this.props.thumbUrl}\r\n          alt=\" loading...\"\r\n          onClick={this.onClick}\r\n        />\r\n\r\n        <div className={styles.photoMask}/>\r\n\r\n        <span className={styles.photoAuthor}>\r\n          @\r\n          <a\r\n            href={this.props.user}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            {this.props.name}\r\n          </a>\r\n        </span>\r\n\r\n        <a className={styles.photoLink}\r\n           href={this.props.link}\r\n           target=\"_blank\"\r\n           rel=\"noopener noreferrer\"\r\n        >\r\n          <Icon type=\"link\" theme=\"outlined\"/>\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PhotoSearchList;","import React, { Component } from \"react\";\r\nimport { Row, Col, Input } from 'antd'\r\n\r\nimport Unsplash, {toJson  } from 'unsplash-js';\r\n\r\nimport PhotoSearchList from './PhotoSearchList';\r\n\r\nconst unsplash = new Unsplash({\r\n  applicationId: \"259ab3f9f61a1c2f0a9089cca645ebcd4623a770e065609ce61a07f4ec60d0a8\",\r\n  secret: \"8aa830ef04745403d94502407e338d9f735d8c8b0d72173a9360c787c91176c1\",\r\n  callbackUrl: \"urn:ietf:wg:oauth:2.0:oob\"\r\n});\r\n\r\n// const unsplash = new Unsplash({\r\n//   applicationId: \"{APP_ACCESS_KEY}\",\r\n//   secret: \"{APP_SECRET}\",\r\n//   callbackUrl: \"{CALLBACK_URL}\"\r\n// });\r\n\r\n\r\nclass PhotoSearch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      keyword: '',\r\n      currentPage: 1,\r\n      dataResult: '',\r\n    };\r\n\r\n    this.pageSize = 12;\r\n  }\r\n\r\n  getTheKeyword = (keyword) => {\r\n    this.setState({\r\n      keyword: keyword,\r\n      currentPage: 1\r\n    });\r\n\r\n    this.doSearch(keyword, this.state.currentPage);\r\n  };\r\n\r\n  onPageChange = (newPage) => {\r\n    this.setState({\r\n      currentPage: newPage\r\n    });\r\n\r\n    this.doSearch(this.state.keyword, newPage);\r\n  };\r\n\r\n  doSearch = (keyword, currentPage) => {\r\n    unsplash.search.photos(keyword, currentPage, this.pageSize)\r\n      .then(toJson)\r\n      .then(searchResult => {\r\n        this.setState({\r\n          dataResult: searchResult\r\n        });\r\n      });\r\n  };\r\n\r\n  SelectPhoto = (photoLink) => {\r\n    // photoID\r\n    this.props.selectCover(photoLink);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div style={{marginTop: 12}}>\r\n        <Row type=\"flex\"  justify=\"center\" align=\"middle\">\r\n          <Col style={{width: '300px'}}>\r\n            <PhotoSearchBar getTheKeyword={this.getTheKeyword}/>\r\n          </Col>\r\n        </Row>\r\n        <Row type=\"flex\" justify=\"center\" align=\"middle\">\r\n          <Col>\r\n            <PhotoSearchList\r\n              data={this.state.dataResult}\r\n              onSelect={this.SelectPhoto}\r\n              currentPage={this.state.currentPage}\r\n              pageSize={this.pageSize}\r\n              onPageChange={this.onPageChange}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass PhotoSearchBar extends React.Component {\r\n  onSearch = (value) => {\r\n    this.props.getTheKeyword(value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Input.Search\r\n        placeholder=\"Input your keyword, like beach\"\r\n        onSearch={this.onSearch}\r\n        enterButton\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default PhotoSearch;\r\n\r\n","/**\r\n * delay 生成一个异步的延时\r\n *\r\n * @param timeout\r\n * @return {Promise<any>}\r\n */\r\nfunction delay(timeout) {\r\n  return new Promise(resolve => setTimeout(resolve, timeout));\r\n}\r\n\r\n/**\r\n * checkImageUrlIsValid 检查url是否是合法的\r\n *\r\n * @param url\r\n * @return {Promise<any>}\r\n */\r\nfunction checkImageUrlIsValid(url) {\r\n  return new Promise(function(resolve, reject) {\r\n    const img = new Image();\r\n    img.onload = function() {\r\n      resolve(url);\r\n    };\r\n\r\n    img.onerror = function(){\r\n      reject('The url of image is invalid.');\r\n    };\r\n\r\n    img.src = url;\r\n  });\r\n}\r\n\r\nexport {\r\n  delay,\r\n  checkImageUrlIsValid\r\n}","let formData = [\r\n  {\r\n    _id: 0,\r\n    title: 'Title No.1',\r\n    author: 'Author',\r\n    excerpt: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Tellus molestie nunc non blandit massa enim nec dui. At tellus at urna condimentum mattis pellentesque. Volutpat est velit egestas dui id ornare arcu odio ut. Purus viverra accumsan in nisl nisi.',\r\n    coverUrl: 'https://images.unsplash.com/photo-1503363876019-10eaf537e61d?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjQxMzU5fQ&s=a69ae344deb3588f0caebc5cbd2bcac7',\r\n    createdAt: '2018-11-15',\r\n    updatedAt: '2018-11-16',\r\n    tags: ['story', 'daily', \"gathering\"],\r\n    markdown: '# Title No.1'\r\n  },\r\n  {\r\n    _id: 1,\r\n    title: 'This is a very long long long long long long long long long title No.2',\r\n    author: 'Author',\r\n    excerpt: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Tellus molestie nunc non blandit massa enim nec dui. At tellus at urna condimentum mattis pellentesque. Volutpat est velit egestas dui id ornare arcu odio ut. Purus viverra accumsan in nisl nisi.',\r\n    coverUrl: 'https://images.unsplash.com/photo-1464655646192-3cb2ace7a67e?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjQxMzU5fQ&s=e5c92940908160ed6b1fce199d70df14',\r\n    createdAt: '2018-10-15',\r\n    updatedAt: '2018-10-16',\r\n    tags: ['story', 'daily'],\r\n    markdown: '# Title No.2'\r\n  },\r\n  {\r\n    _id: 2,\r\n    title: 'Title No.3',\r\n    author: 'Author',\r\n    excerpt: 'Here is an example of a post without a cover image. You don\\'t always have to have a cover image. In fact, leaving them out from time to time and disrupt the predictive flow and make the overall design more interesting. Something to think about.',\r\n    coverUrl: '',\r\n    createdAt: '2018-09-15',\r\n    updatedAt: '2018-09-16',\r\n    tags: ['story', 'daily', \"food\"],\r\n    markdown: '# Title No.3'\r\n  },\r\n  {\r\n    _id: 3,\r\n    title: 'Title No.4',\r\n    author: 'Author',\r\n    excerpt: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Tellus molestie nunc non blandit massa enim nec dui. At tellus at urna condimentum mattis pellentesque. Volutpat est velit egestas dui id ornare arcu odio ut. Purus viverra accumsan in nisl nisi.',\r\n    coverUrl: 'https://images.unsplash.com/photo-1542173212-6fbb91e107f1?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=e0f80857a9986c67b43b0ce666adf327&auto=format&fit=crop&w=1080&q=80',\r\n    createdAt: '2018-08-15',\r\n    updatedAt: '2018-08-16',\r\n    tags: ['story', 'daily', \"sport\", \"movie\"],\r\n    markdown: '# Title No.4'\r\n  }\r\n\r\n];\r\n\r\nexport default formData;","import React, { Component } from \"react\";\r\nimport { Form, Icon, Input, Popover, Modal, Collapse ,Tabs, Button, Row, Col } from \"antd\";\r\n\r\nimport PhotoSearch from \"./PhotoSearch\";\r\nimport { checkImageUrlIsValid } from \"../utils\";\r\nimport mockData from './data';\r\n\r\nimport styles from \"./ArticleInfoSetting.module.css\";\r\n\r\nconst metaData = mockData[0];\r\n\r\nclass InfoSettingPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      coverUrl: '',\r\n      isCoverUrlValid: false\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const coverUrl = await checkImageUrlIsValid(metaData.coverUrl);\r\n\r\n      this.setState({\r\n        coverUrl: coverUrl,\r\n        isCoverUrlValid: true\r\n      });\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.infoPreviewWrapper}>\r\n        {\r\n          this.state.isCoverUrlValid\r\n            ? <div className={styles.infoPreviewImageWrapper}>\r\n                <div\r\n                  className={styles.infoPreviewImage}\r\n                  style={{backgroundImage: `url(${this.state.coverUrl})`}}\r\n                />\r\n              </div>\r\n            : null\r\n        }\r\n        <div>\r\n          <h2 className={styles.infoPreviewTitle}>{metaData.title}</h2>\r\n          <p className={styles.infoPreviewExcerpt}>{metaData.excerpt}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst InfoSettingButton = props => {\r\n  return (\r\n    <Popover\r\n      content={<InfoSettingPreview/>}\r\n      title=\"Article Info Preview\"\r\n      trigger={['hover']}\r\n      mouseEnterDelay={0.8}\r\n    >\r\n      <button className={styles.button} onClick={props.onClick}>\r\n        <Icon type=\"form\" theme=\"outlined\" />\r\n      </button>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nconst formItemLayout = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 14 },\r\n};\r\n\r\nclass ArticleInfoSettingModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: false,\r\n      data: ''\r\n    };\r\n\r\n    this.formRef = null;\r\n\r\n    this.setFormRef = (form) => {\r\n      this.formRef = form\r\n    };\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n\r\n    const data = this.formRef.props.form.getFieldsValue();\r\n    console.log(data);\r\n    console.log('ok');\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/*<button className={styles.button} type=\"primary\" onClick={this.showModal}>*/}\r\n          {/*<Icon type=\"profile\" theme=\"outlined\" />*/}\r\n        {/*</button>*/}\r\n        <InfoSettingButton onClick={this.showModal}/>\r\n        <Modal\r\n          style={{top: 20}}\r\n          width={880}\r\n          title=\"Article Info Setting\"\r\n          visible={this.state.visible}\r\n          onCancel={this.handleCancel}\r\n          footer={null}\r\n          destroyOnClose={true}\r\n        >\r\n          {/*<WrappedFormInModal wrappedComponentRef={this.setFormRef}/>*/}\r\n          <WrappedFormInModal afterSubmit={this.handleCancel}/>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass ArticleInfoForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      coverUrl: '',\r\n      isUrlChanged: false,\r\n      isCoverUrlValid: false,\r\n      coverPreviewMsg: 'The preview of cover will be here.'\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // To load the cover based on saved url.\r\n    this.checkCoverUrl(undefined, metaData.coverUrl, ()=>{});\r\n    // To disabled submit button at the beginning.\r\n    this.props.form.validateFields();\r\n  }\r\n\r\n\r\n  selectCover = (cover) => {\r\n    const form = this.props.form;\r\n\r\n    form.setFieldsValue({ cover });\r\n\r\n    this.checkCoverUrl(undefined, cover, () => {});\r\n  };\r\n\r\n  checkCoverUrl = async(rule, url, cb) => {\r\n    if (url) {\r\n      try {\r\n        const coverUrl = await checkImageUrlIsValid(url);\r\n\r\n        this.setState({\r\n          coverUrl: coverUrl,\r\n          isUrlChanged: true,\r\n          isCoverUrlValid: true\r\n        });\r\n      } catch (error) {\r\n        this.setState({\r\n          coverPreviewMsg: 'The url of cover is invalid. Please check the url.',\r\n          isUrlChanged: true,\r\n          isCoverUrlValid: false\r\n        });\r\n      }\r\n    }\r\n\r\n    cb();\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = this.props.form.getFieldsValue();\r\n    // 这里只需要使用data提交表单的数据即可\r\n    console.log(data);\r\n    this.props.afterSubmit();\r\n    // console.log(metaData);\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator, getFieldsError, isFieldTouched, getFieldError } = this.props.form;\r\n\r\n    const titleError = isFieldTouched('userName') && getFieldError('userName');\r\n    const excerptError = isFieldTouched('password') && getFieldError('password');\r\n\r\n    return (\r\n      <div>\r\n        <Form>\r\n          <Form.Item\r\n            {...formItemLayout}\r\n            label={'Title'}\r\n            // validateStatus={titleError ? 'error' : ''}\r\n            // help={titleError || ''}\r\n          >\r\n            {getFieldDecorator('title', {\r\n              initialValue: metaData.title,\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your article title. ',\r\n                },\r\n                {\r\n                  max: 100,\r\n                  message: 'The maximum letters of title is 100. '\r\n                }\r\n              ]\r\n            })(\r\n              <Input placeholder=\"Please input your article title.\" />\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item\r\n            {...formItemLayout}\r\n            label={'Excerpt'}\r\n            // validateStatus={excerptError ? 'error' : ''}\r\n          >\r\n            {getFieldDecorator('excerpt', {\r\n              initialValue: metaData.excerpt,\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your article excerpt. ',\r\n                },\r\n                {\r\n                  max: 320,\r\n                  message: 'The maximum letters of excerpt is 320. '\r\n                }\r\n              ]\r\n            })(\r\n              <Input.TextArea\r\n                rows={8}\r\n                autosize={true}\r\n                placeholder='Please input your article excerpt.'\r\n              />\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item\r\n            {...formItemLayout}\r\n            label={'Cover Url'}\r\n          >\r\n            {getFieldDecorator('cover', {\r\n              initialValue: metaData.coverUrl,\r\n              rules: [{\r\n                validator: this.checkCoverUrl\r\n              }]\r\n            })(\r\n              <Input placeholder=\"Please input a valid url of the cover of your article. \" />\r\n            )}\r\n          </Form.Item>\r\n          <Row>\r\n            <Col span={6} className={styles.submitButtonWrapper}>\r\n              <Form.Item>\r\n                <Button\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  disabled={hasErrors(getFieldsError())}\r\n                  onClick={this.onSubmit}\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={14}>\r\n              <div className={styles.coverPreviewArea}>\r\n                {\r\n                  this.state.isCoverUrlValid\r\n                    ? <img className={styles.coverPreviewImage} src={this.state.coverUrl} alt=\" loading...\"/>\r\n                    : (\r\n                      <div className={styles.coverPreviewAreaTipWrapper}>\r\n                        {\r\n                          this.state.isUrlChanged\r\n                            ? <p className={styles.coverPreviewAreaTipWithFeedback}>{this.state.coverPreviewMsg}</p>\r\n                            : <p className={styles.coverPreviewAreaTip}>{this.state.coverPreviewMsg}</p>\r\n                        }\r\n                      </div>\r\n                    )\r\n                }\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n        <div>\r\n          <Collapse bordered={false}>\r\n            <Collapse.Panel header={\"Tips for setting cover\"} key={\"tips\"}>\r\n              <pre className={styles.coverSettingTip}>\r\n              Choose an approach to set your cover:\r\n              <br/>\r\n              1. Search photo from Unsplash by keyword and click on the photo you selected. The url of the photo will be filled in automatically.\r\n              <br/>\r\n              2. Upload the cover to image hosting service, and paste the valid image url to the cover field.\r\n              <br/>\r\n              <br/>\r\n              Important: Image in landscape mode is recommended.\r\n              </pre>\r\n            </Collapse.Panel>\r\n          </Collapse>\r\n\r\n          <Tabs defaultActiveKey=\"1\">\r\n            <Tabs.TabPane tab=\"Choose a photo from Unsplash\" key=\"1\">\r\n              <PhotoSearch selectCover={this.selectCover}/>\r\n            </Tabs.TabPane>\r\n            <Tabs.TabPane tab=\"Upload your photo\" key=\"2\">\r\n              <div style={{marginTop: 12}}>\r\n                <pre className={styles.coverSettingTip}>\r\n                  You can use any image hosting service to store your cover, like <a href=\"http://imgur.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Imgur</a>, <a href=\"https://www.dropbox.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Dropbox</a>, <a href=\"https://imageshack.us/\" target=\"_blank\" rel=\"noopener noreferrer\">Imageshack</a>, and other free image hosting service.\r\n                  <br/>\r\n                  <br/>\r\n                  Remember to paste url back to the cover field.\r\n                </pre>\r\n              </div>\r\n            </Tabs.TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst WrappedFormInModal = Form.create()(ArticleInfoForm);\r\n\r\nfunction hasErrors(fieldsError) {\r\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n}\r\n\r\n\r\nexport default ArticleInfoSettingModal;","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom';\n\nimport { Row, Col, Button, Icon, Menu, Dropdown, Popover, Divider, Radio, Switch } from \"antd\";\n\nimport ArticleInfoSetting from './ArticleInfoSetting';\n\nimport styles from './Header.module.css';\n\nclass EditPageHeader extends Component {\n  render() {\n    return (\n      <Row className={styles.header} type=\"flex\" justify=\"start\" align=\"middle\">\n        <Col span={4} offset={4}>\n          <Link to={'/'}>\n            <button className={styles.button}>\n              Write Down\n            </button>\n          </Link>\n        </Col>\n        <Col span={1} offset={8}>\n          <MoreButton/>\n        </Col>\n        <Col span={1}>\n          <ArticleInfoSetting/>\n        </Col>\n        <Col span={1}>\n          <SettingButton\n            toggleDisplayMode={this.props.toggleDisplayMode}\n            toggleScrollSync={this.props.toggleScrollSync}\n          />\n        </Col>\n        <Col span={1}>\n          <UserButton/>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nclass GeneralHeader extends Component {\n  render() {\n    return (\n      <Row className={styles.header} type=\"flex\" justify=\"start\" align=\"middle\">\n        <Col span={4} offset={4}>\n          <Link to={'/'}>\n            <button className={styles.button}>\n              Write Down\n            </button>\n          </Link>\n        </Col>\n        <Col span={1} offset={10}>\n          <MoreButton/>\n        </Col>\n        {/*<Col span={1}>*/}\n        {/*<NavButton/>*/}\n        {/*</Col>*/}\n        <Col span={1}>\n          <UserButton/>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nclass Header3 extends Component {\n  render() {\n    return (\n      <Row className={styles.header + ' ' + styles.home} type=\"flex\" justify=\"start\" align=\"middle\">\n        <Col span={4} offset={4}>\n          <button className={styles.button}>\n            Write Down\n          </button>\n        </Col>\n        <Col span={1} offset={9}>\n          <MoreButton/>\n        </Col>\n        <Col span={1}>\n          <SettingButton\n            toggleDisplayMode={this.props.toggleDisplayMode}\n            toggleScrollSync={this.props.toggleScrollSync}\n          />\n        </Col>\n        <Col span={1}>\n          <UserButton/>\n        </Col>\n      </Row>\n    );\n  }\n}\n\n\nconst MoreMenu = (\n  <Menu>\n    <Menu.Item key=\"1\">Get</Menu.Item>\n    <Menu.Item key=\"2\">Some</Menu.Item>\n    <Menu.Item key=\"3\">Help</Menu.Item>\n  </Menu>\n);\n\n\nconst MoreButton = props => {\n  return (\n    <Dropdown\n      className={styles.button}\n      overlay={MoreMenu}\n      trigger={['click']}\n      placement='bottomCenter'\n    >\n      <Icon type=\"ellipsis\" theme=\"outlined\" />\n    </Dropdown>\n  );\n};\n\n// const NavMenu = (\n//   <Menu>\n//     <Menu.Item key=\"1\">Get</Menu.Item>\n//     <Menu.Item key=\"2\">Some</Menu.Item>\n//     <Menu.Item key=\"3\">Help</Menu.Item>\n//   </Menu>\n// );\n//\n//\n// const NavButton = props => {\n//   return (\n//     <Dropdown className={styles.button} overlay={NavMenu} trigger={['click']} placement='bottomCenter'>\n//       <Icon type=\"bars\" theme=\"outlined\" />\n//     </Dropdown>\n//   );\n// };\n\nconst EditorSettingMenu = props => (\n  <div className={styles.editorSettingContainer}>\n    <Row className={styles.editorSettingItem} type=\"flex\" justify=\"space-between\" align=\"middle\">\n      <Col>\n        Scroll-Sync\n      </Col>\n      <Col>\n        <Switch defaultChecked onChange={props.toggleScrollSync} />\n      </Col>\n    </Row>\n    <Row\n      className={styles.editorSettingItem}\n      type=\"flex\"\n      justify=\"space-between\"\n      align=\"middle\"\n      gutter={16}\n    >\n      <Col>\n        Display Mode\n      </Col>\n      <Col>\n        <Radio.Group\n          onChange={props.toggleDisplayMode}\n          defaultValue=\"Editor & Preview\"\n          buttonStyle=\"solid\" size='small'\n        >\n          <Radio.Button value=\"Editor Only\">Editor</Radio.Button>\n          <Radio.Button value=\"Editor & Preview\">Both</Radio.Button>\n          <Radio.Button value=\"Preview Only\">Preview</Radio.Button>\n        </Radio.Group>\n      </Col>\n    </Row>\n  </div>\n);\n\nEditorSettingMenu.propTypes = {\n  toggleScrollSync: PropTypes.func.isRequired,\n  toggleDisplayMode: PropTypes.func.isRequired\n};\n\nconst SettingButton = props => {\n  return (\n    <Popover\n      content={\n        <EditorSettingMenu\n          toggleScrollSync={props.toggleScrollSync}\n          toggleDisplayMode={props.toggleDisplayMode}\n        />\n      }\n      title=\"Editor Setting Controller\"\n      trigger={['click']}\n    >\n      <button className={styles.button}>\n        <Icon type=\"setting\" theme=\"outlined\" />\n      </button>\n    </Popover>\n  );\n};\n\nSettingButton.propTypes = {\n  toggleScrollSync: PropTypes.func.isRequired,\n  toggleDisplayMode: PropTypes.func.isRequired\n};\n\nconst UserMenu = (\n  <Menu>\n    <Menu.Item key=\"1\">\n      <Link to={'/draft'}>New Article</Link>\n    </Menu.Item>\n    <Menu.Item key=\"2\">\n      <Link to={'/articles'}>My Articles</Link>\n    </Menu.Item>\n    <Menu.Divider/>\n    <Menu.Item key=\"3\">\n      <Link to={'/user'}>User Profile</Link>\n    </Menu.Item>\n    <Menu.Item key=\"4\">Log out</Menu.Item>\n  </Menu>\n);\n\nconst UserButton = props => {\n  return (\n    <Dropdown\n      className={styles.button}\n      overlay={UserMenu}\n      trigger={['click']}\n      placement='bottomCenter'\n    >\n      <Icon type=\"user\" theme=\"outlined\" />\n    </Dropdown>\n  )\n};\n\nEditPageHeader.propTypes = {\n  toggleScrollSync: PropTypes.func.isRequired,\n  toggleDisplayMode: PropTypes.func.isRequired\n};\n\nexport {\n  EditPageHeader,\n  GeneralHeader\n};","import MarkdownIt from \"markdown-it\";\n\nimport abbr from 'markdown-it-abbr';\nimport anchor from \"markdown-it-anchor\";\nimport deflist from 'markdown-it-deflist';\nimport emoji from \"markdown-it-emoji\";\nimport footnote from 'markdown-it-footnote';\nimport highlight from \"markdown-it-highlightjs\";\nimport imsize from 'markdown-it-imsize';\nimport mark from 'markdown-it-mark';\nimport sub from 'markdown-it-sub';\nimport sup from 'markdown-it-sup';\nimport taskList from \"markdown-it-task-lists\";\nimport TOC from \"markdown-it-table-of-contents\";\n\nimport twemoji from 'twemoji';\n\nconst markdownOption = {\n  html:         false,        // Enable HTML tags in source\n  xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n  breaks:       false,        // Convert '\\n' in paragraphs into <br>\n  langPrefix:   'language-',  // CSS language prefix for fenced blocks\n  linkify:      false,         // autoconvert URL-like texts to links\n  typographer:  true,         // Enable smartypants and other sweet transforms\n  quotes: '“”‘’',\n};\n\nconst md = new MarkdownIt(markdownOption);\n\nconst anchorOption = {\n  level: [1, 2, 3]\n};\n\nconst imsizeOption = {\n  autofill: true\n};\n\nconst TOC_Option = {\n  includeLevel: [1, 2, 3]\n};\n\n\nmd.use(abbr)\n  .use(anchor, anchorOption)\n  .use(deflist)\n  .use(emoji)\n  .use(footnote)\n  .use(highlight)\n  .use(imsize, imsizeOption)\n  .use(mark)\n  .use(sub)\n  .use(sup)\n  .use(taskList)\n  .use(TOC, TOC_Option);\n\n// change the output of emoji\nmd.renderer.rules.emoji = function(token, idx) {\n  return twemoji.parse(token[idx].content);\n};\n\nexport default md;\n","import React, { Component } from \"react\";\n\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport 'codemirror/mode/gfm/gfm.js';\nimport \"codemirror/addon/selection/active-line\"\n\nimport 'codemirror/lib/codemirror.css';\nimport './theme/cherry.css';\nimport PropTypes from \"prop-types\";\n\n// import 'codemirror/theme/material.css';\n// import 'codemirror/theme/monokai.css';\n// import 'codemirror/theme/mdn-like.css';\n// import 'codemirror/theme/idea.css';\n//\n// // other theme\n// import 'code-mirror-themes/themes/bespin.css';\n// import 'code-mirror-themes/themes/rhuk.css';\n// import 'code-mirror-themes/themes/emacs-strict.css';\n// import 'code-mirror-themes/themes/fake.css';\n// import 'code-mirror-themes/themes/monokai-fannonedition.css';\n// import 'code-mirror-themes/themes/johnny.css';\n// import 'code-mirror-themes/themes/friendship-bracelet.css';\n\nclass Editor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: {\n        mode: 'gfm',\n        theme: 'cherry',\n        tabSize: 2,\n        styleActiveLine: true,\n        lineWrapping: true,\n        // https://codemirror.net/doc/manual.html#option_viewportMargin\n\n        // viewportMargin 是用于，设置初始渲染代码时在code mirror editor中显示代码的行数，\n        // 它的默认值为10行，整个内容的显示区域的高度为300px，且无法通过其他的手段来修正它。\n        // 如果不设置它，在初始渲染代码时，只会显示前10行，剩余的内容则需要点击一下editor才会显示出来，\n        // 它也可以设置成Infinity，若初始的内容太多会导致一定的性能问题。\n        // 我认为把它设置成比较大且够用的一个数值就可以，比如1000。\n        viewportMargin: 1000\n      }\n    };\n  }\n\n  render() {\n    return (\n      <CodeMirror\n        value={this.props.value}\n        options={this.state.options}\n        onBeforeChange={this.props.handleUpdate}\n        onChange={(editor, data, value) => {}}\n      />\n    );\n  }\n}\n\nEditor.propTypes = {\n  value: PropTypes.string,\n  handleUpdate: PropTypes.func\n};\n\nexport default Editor;\n","const markdownContent = `\n# h1 Heading 8-)\n## h2 Heading\n### h3 Heading\n#### h4 Heading\n##### h5 Heading\n###### h6 Heading\n\n## Horizontal Rules\n___\n\n---\n\n***\n\n## Typographic replacements\n\nEnable typographer option to see result.\n\n(c) (C) (r) (R) (tm) (TM) (p) (P) +-\n\ntest.. test... test..... test?..... test!....\n\n!!!!!! ???? ,,  -- ---\n\n\"Smartypants, double quotes\" and 'single quotes'\n\n## Emphasis\n\n**This is bold text**\n\n__This is bold text__\n\n*This is italic text*\n\n_This is italic text_\n\n~~Strikethrough~~\n\n## Blockquotes\n\n> Blockquotes can also be nested...\n>> ...by using additional greater-than signs right next to each other...\n> > > ...or with spaces between arrows.\n\n## Lists\n\nUnordered\n\n+ Create a list by starting a line with \\`+\\`, \\`-\\`, or \\`*\\`\n+ Sub-lists are made by indenting 2 spaces:\n  - Marker character change forces new list start:\n    * Ac tristique libero volutpat at\n    + Facilisis in pretium nisl aliquet\n    - Nulla volutpat aliquam velit\n+ Very easy!\n\nOrdered\n\n1. Lorem ipsum dolor sit amet\n2. Consectetur adipiscing elit\n3. Integer molestie lorem at massa\n\n1. You can use sequential numbers...\n1. ...or keep all the numbers as \\`1.\\`\n\nStart numbering with offset:\n\n57. foo\n1. bar\n\nGFM task list\n\n- [ ] Not done.\n- [X] Done.\n\n## Code\n\nInline \\`code\\`\n\nIndented code\n\n    // Some comments\n    line 1 of code\n    line 2 of code\n    line 3 of code\n\nBlock code \"fences\"\n\n\\`\\`\\`\nSample text here...\n\\`\\`\\`\n\nSyntax highlighting\n\n\\`\\`\\` js\nvar foo = function (bar) {\n  return bar++;\n};\n\nconsole.log(foo(5));\n\\`\\`\\`\n\nDiff comparison\n\n\\`\\`\\`diff\n+ this text is highlighted in green\n- this text is highlighted in red\n\\`\\`\\`\n\n## Tables\n\n| Option | Description |\n| ------ | ----------- |\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\nRight aligned columns\n\n| Option | Description |\n| ------:| -----------:|\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\n## Links\n\n[link text](http://dev.nodeca.com)\n\n[link with title](http://nodeca.github.io/pica/demo/ \"title text!\")\n\nAutoconverted link https://github.com/nodeca/pica (enable linkify to see)\n\n## Images\n\n![Minion](https://octodex.github.com/images/minion.png =100x)\n![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg \"The Stormtroopocat\" =200x)\n\nLike links, Images also have a footnote style syntax\n\n![Alt text][id]\n\nWith a reference later in the document defining the URL location:\n\n[id]: https://octodex.github.com/images/dojocat.jpg  \"The Dojocat\"\n\n## Plugins\n\nThe killer feature of \\`markdown-it\\` is very effective support of\n[syntax plugins](https://www.npmjs.org/browse/keyword/markdown-it-plugin).\n\n### [Emojies](https://github.com/markdown-it/markdown-it-emoji)\n\n> Classic markup: :wink: :scream: :joy_cat: :scream_cat: :laughing: :yum:\n>\n> Shortcuts (emoticons): :-D ;) 8-) \n\nsee [how to change output](https://github.com/markdown-it/markdown-it-emoji#change-output) with twemoji.\n\n### [Subscript](https://github.com/markdown-it/markdown-it-sub) / [Superscript](https://github.com/markdown-it/markdown-it-sup)\n\n- 19^th^\n- H~2~O\n\n\n### [\\\\<mark>](https://github.com/markdown-it/markdown-it-mark)\n\n==Marked text==\n\n### [Footnotes](https://github.com/markdown-it/markdown-it-footnote)\n\nFootnote 1 link[^first].\n\nFootnote 2 link[^second].\n\nInline footnote^[Text of inline footnote] definition.\n\nDuplicated footnote reference[^second].\n\n[^first]: Footnote **can have markup**\n\n    and multiple paragraphs.\n\n[^second]: Footnote text.\n\n### [Definition lists](https://github.com/markdown-it/markdown-it-deflist)\n\nTerm 1\n\n:   Definition 1\nwith lazy continuation.\n\nTerm 2 with *inline markup*\n\n:   Definition 2\n\n        { some code, part of Definition 2 }\n\n    Third paragraph of definition 2.\n\n_Compact style:_\n\nTerm 1\n  ~ Definition 1\n\nTerm 2\n  ~ Definition 2a\n  ~ Definition 2b\n\n### [Abbreviations](https://github.com/markdown-it/markdown-it-abbr)\n\nThis is HTML abbreviation example.\n\nIt converts \"HTML\", but keep intact partial entries like \"xxxHTMLyyy\" and so on.\n\n*[HTML]: Hyper Text Markup Language\n`;\n\nexport default markdownContent.trim();","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport throttle from 'lodash/throttle';\n\nimport { ScrollSync, ScrollSyncPane } from 'react-scroll-sync';\nimport {Row, Col, Radio, Switch} from 'antd';\n\nimport { delay } from \"../utils\";\nimport MarkdownParser from './MarkdownParser';\nimport Editor from './Editor';\n\nimport 'github-markdown-css';\nimport 'highlight.js/styles/github.css';\n\nimport styles from './ArticleEdit.module.css';\n\nimport {EditPageHeader as Header} from './Header';\nimport markdownFeatureSrc from '../assets/markdown-test-file';\n// import markdownCheatSheet from '../assets/markdown-cheatsheet';\n\nimport mockData from './data';\n\nclass ArticleEdit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      src: markdownFeatureSrc,\n      // src: '',\n      // 由于displayMode和scrollSync需要用到前一次的状态，需要放在state中\n      displayMode: 'Editor & Preview',\n      scrollSync: true\n    };\n\n    this.codeMirrorOption = {\n      mode: 'gfm',\n      theme: 'cherry',\n      tabSize: 2,\n      styleActiveLine: true,\n      lineWiseCopyCut: true,\n    };\n\n    // 用于保存相应的节点\n    this.$editor = null;\n    this.$preview = null;\n\n    // 使用这个变量来保存对应switch的控制\n    this.isScrollSyncEnabled = true;\n\n    this.editorScrollDistance = 0;\n    this.previewScrollDistance = 0;\n\n    this.lastDisplayMode = 'Editor & Preview';\n  }\n\n  componentDidMount() {\n    this.$editor = document.querySelector('.editor');\n    this.$preview = document.querySelector('.preview');\n\n    // get the parameter in the url\n    const id = this.props.match.params.id;\n\n    if (id) {\n      this.setState({\n        id: id,\n        src: mockData[id].markdown\n      });\n    }\n  }\n\n  handleSourceUpdate = (editor, data, value) => {\n    this.setState({\n      src: value\n    });\n  };\n\n  handleScrollSyncToggle = () => {\n    // 更新switch控制的选项\n    this.isScrollSyncEnabled = !this.isScrollSyncEnabled;\n\n    this.setState({\n      scrollSync: this.isScrollSyncEnabled\n    });\n  };\n\n  handleDisplayModeChange = async (e) => {\n    const nextDisplayMode = e.target.value;\n\n    this.setState({\n      displayMode: nextDisplayMode\n    });\n\n    // 仅在'Editor & Preview'使用默认的scroll-sync功能，其他display mode采用this.syncScrollManually()来完成scroll-sync\n    if (nextDisplayMode === 'Editor & Preview') {\n      // 如果scroll-sync是通过switch设置为关闭后，此时this.isScrollSyncEnabled为true，切换display mode不能开启它。\n      // 只要在switch为开启状态下，即this.isScrollSyncEnabled时，切换回'Editor & Preview'才能开启它。\n      if (this.isScrollSyncEnabled) {\n        // 在页面还处于伸缩状态时，窗口的高度不定，scroll-sync会导致页面发生跳动\n        // 添加一个延时来延迟scroll-sync的开启\n        await delay(200);\n\n        this.setState({\n          scrollSync: true\n        });\n      }\n    } else {\n      // display mode切换至'Editor Only'或'Preview Only'，则要尽快地关闭scroll-sync，防止无效的同步\n      this.setState({\n        scrollSync: false\n      });\n    }\n\n    this.syncScrollManually(this.isScrollSyncEnabled, this.lastDisplayMode, nextDisplayMode);\n\n    // 保存前一次的display mode\n    this.lastDisplayMode = nextDisplayMode;\n  };\n\n  saveScrollTop = () => {\n    this.editorScrollDistance = this.$editor.scrollTop;\n    this.previewScrollDistance = this.$preview.scrollTop;\n  };\n\n  syncScrollManually = async (isScrollSyncEnabled, prevDisplayMode, nextDisplayMode) => {\n    // 如果switch控制的scroll-sync是关闭的，那不需要手动同步\n    if (!isScrollSyncEnabled) {\n      return;\n    }\n\n    // 根据滚动百分比计算对应的滚动距离\n    if (prevDisplayMode === 'Editor Only' && nextDisplayMode === 'Preview Only') {\n      // 基于editor，计算preview\n      const scrollingProportion = this.getScrollingProportion(this.$editor);\n\n      // 防止在切换display mode时，高度突变引起的scrollHeight出错\n      await delay(200);\n      this.$preview.scrollTop = this.getCalculatedScrollTop(this.$preview, scrollingProportion);\n    }\n\n    if (prevDisplayMode === 'Preview Only' && nextDisplayMode === 'Editor Only') {\n      // 基于preview，计算editor\n      const scrollingProportion = this.getScrollingProportion(this.$preview);\n\n      // 防止在切换display mode时，高度突变引起的scrollHeight出错\n      await delay(200);\n      this.$editor.scrollTop = this.getCalculatedScrollTop(this.$editor, scrollingProportion);\n    }\n\n\n    // 根据切换至 \"Editor & Preview\" 之前的显示的内容的滚动距离来设定\n    if (prevDisplayMode === 'Editor Only' && nextDisplayMode === 'Editor & Preview') {\n      // 这里 +1 是为了稍微更新一下scrollTop，从而触发scroll sync组件的同步功能。\n      // 如果不进行 +1，scrollTop与editorScrollDistance是相等的，不会触发scroll sync组件的同步功能\n      this.$editor.scrollTop = this.editorScrollDistance - 1;\n    }\n\n    if (prevDisplayMode === 'Preview Only' && nextDisplayMode === 'Editor & Preview') {\n      this.$preview.scrollTop = this.previewScrollDistance - 1;\n    }\n  };\n\n  // 计算滚动距离所占的百分比\n  getScrollingProportion(node) {\n    if (node.matches('.editor')) {\n      return (this.editorScrollDistance / (node.scrollHeight - node.clientHeight)).toFixed(4);\n    }\n\n    if (node.matches('.preview')) {\n      return (this.previewScrollDistance / (node.scrollHeight - node.clientHeight)).toFixed(4);\n    }\n  }\n\n  // 根据百分比计算出另一个窗口的滚动距离\n  getCalculatedScrollTop(node, proportion) {\n    return Math.round((node.scrollHeight - node.clientHeight) * proportion);\n  }\n\n  toggleStyleOfEditor (currentMode) {\n    switch (currentMode) {\n      case 'Editor Only':\n        return styles.editorOnly;\n      case 'Preview Only':\n        return styles.editorHide;\n      default:\n        return styles.editor;\n    }\n  }\n\n  toggleStyleOfPreviewer (currentMode) {\n    switch (currentMode) {\n      case 'Editor Only':\n        return styles.previewHide;\n      case 'Preview Only':\n        return styles.previewOnly;\n      default:\n        return styles.preview;\n    }\n  }\n\n  render() {\n    let renderResult = {\n      __html: MarkdownParser.render(this.state.src)\n    };\n\n    return (\n      <div>\n        <Header\n          toggleDisplayMode={this.handleDisplayModeChange}\n          toggleScrollSync={this.handleScrollSyncToggle}\n        />\n        <ScrollSync enabled={this.state.scrollSync}>\n          <Row className={styles.articleEditWrapper} type=\"flex\" justify=\"center\">\n            <ScrollSyncPane>\n              <Col\n                className={this.toggleStyleOfEditor(this.state.displayMode) + ' editor'}\n                ref={this.editor}\n                onScroll={throttle(this.saveScrollTop, 200, {trailing: true})}\n              >\n                {/*<div className={styles.editorWrapper}>*/}\n                  <Editor\n                    value={this.state.src}\n                    options={this.codeMirrorOption}\n                    handleUpdate={this.handleSourceUpdate}\n                  />\n                {/*</div>*/}\n              </Col>\n            </ScrollSyncPane>\n\n            <ScrollSyncPane>\n              <Col\n                className={this.toggleStyleOfPreviewer(this.state.displayMode) + ' preview'}\n                onScroll={throttle(this.saveScrollTop, 200, {trailing: true})}\n              >\n                {/*<div className={styles.previewWrapper}>*/}\n                  <Preview renderResult={renderResult}/>\n                {/*</div>*/}\n              </Col>\n            </ScrollSyncPane>\n          </Row>\n        </ScrollSync>\n      </div>\n    );\n  }\n}\n\nclass Preview extends Component {\n  render() {\n    return (\n      <div className='markdown-body' dangerouslySetInnerHTML={this.props.renderResult}/>\n    )\n  }\n}\n\nPreview.propTypes = {\n  renderResult: PropTypes.object\n};\n\nfunction ToolBar(props) {\n  return (\n    <>\n      <Col>\n        <DisplayMode changeDisplayMode={props.changeMode}/>\n      </Col>\n      <Col>\n        Scroll-Sync&nbsp;\n        <ScrollSyncCtrl toggleScrollSync={props.toggleScrollSync}/>\n      </Col>\n    </>\n  )\n}\n\nToolBar.propTypes = {\n  changeMode: PropTypes.func,\n  toggleScrollSync: PropTypes.func\n};\n\nconst RadioButton = Radio.Button;\nconst RadioGroup = Radio.Group;\n\nfunction DisplayMode(props) {\n  return (\n    <div>\n      <RadioGroup onChange={props.changeDisplayMode} defaultValue=\"Editor & Preview\" buttonStyle=\"solid\">\n        <RadioButton value=\"Editor Only\">Editor</RadioButton>\n        <RadioButton value=\"Editor & Preview\">Both</RadioButton>\n        <RadioButton value=\"Preview Only\">Preview</RadioButton>\n      </RadioGroup>\n    </div>\n  )\n}\n\nDisplayMode.propTypes = {\n  changeDisplayMode: PropTypes.func\n};\n\nfunction ScrollSyncCtrl(props) {\n  return (\n    <Switch defaultChecked onChange={props.toggleScrollSync} />\n  );\n}\n\nScrollSyncCtrl.propTypes = {\n  toggleScrollSync: PropTypes.func\n};\n\nexport default ArticleEdit;\n","import React, { Component } from \"react\";\r\nimport { Col, Row, Tag, Icon, Input, Tooltip } from \"antd\";\r\n\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\n\r\nimport { GeneralHeader as Header } from './Header';\r\nimport mockData from './data';\r\nimport { checkImageUrlIsValid } from \"../utils\";\r\n\r\nimport styles from \"./ArticleList.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nclass ArticlesPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      src: [],\r\n      isLoggedIn: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      src: mockData\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const ArticleList = this.state.src.map(data => (\r\n      <ArticleItem metaData={data} key={data._id} isLoggedIn={this.state.isLoggedIn}/>\r\n    ));\r\n\r\n\r\n    return (\r\n      <>\r\n        <Header/>\r\n        <Row>\r\n          <Col md={4} sm={2} xs={0}>\r\n\r\n          </Col>\r\n          <Col className={styles.list} md={16} sm={20} xs={24}>\r\n            {ArticleList}\r\n          </Col>\r\n          <Col md={4} sm={2} xs={0}>\r\n\r\n          </Col>\r\n\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass ArticleItem extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      coverUrl: '',\r\n      tags: this.props.metaData.tags,\r\n      isCoverUrlValid: false,\r\n      isTagsEditable: false\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const coverUrl = await checkImageUrlIsValid(this.props.metaData.coverUrl);\r\n\r\n      this.setState({\r\n        coverUrl: coverUrl,\r\n        isCoverUrlValid: true\r\n      });\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n\r\n  handleTagsEditableToggle = () => {\r\n    this.setState((prevState) => ({\r\n      isTagsEditable: !prevState.isTagsEditable\r\n    }));\r\n  };\r\n\r\n  handleTagsUpdate = (newTagsArray) => {\r\n    this.setState({\r\n      tags: newTagsArray\r\n    });\r\n\r\n    // todo: update the database\r\n  };\r\n\r\n  render() {\r\n    const { _id, title, author, excerpt, updatedAt } = this.props.metaData;\r\n\r\n    const { tags } = this.state;\r\n\r\n    return (\r\n      <div className={styles.itemWrapper}>\r\n        {\r\n          this.state.isCoverUrlValid\r\n            ?\r\n            <div className={styles.imageWrapper}>\r\n              <div\r\n                className={styles.image}\r\n                style={{backgroundImage: `url(${this.state.coverUrl})`}}\r\n              />\r\n            </div>\r\n            : null\r\n        }\r\n        <div className={styles.contentWrapper}>\r\n          <h2 className={styles.title}>{title}</h2>\r\n          <Row className={styles.infoWrapper} type='flex' justify='space-between'>\r\n            <Col>\r\n              Posted by <span className={styles.author}>{author}</span>\r\n            </Col>\r\n            <Col>\r\n              <span className={styles.postedTime}>{dayjs(updatedAt).fromNow()}</span>\r\n            </Col>\r\n          </Row>\r\n          <p className={styles.excerpt}>\r\n            {\r\n              excerpt.length > 300\r\n              ? <span>\r\n                  {excerpt.slice(0, 300) + ' ... '}<a href = \"#\" >Read More</a>\r\n                </span>\r\n              : <span>\r\n                  {excerpt + ' '} <a href=\"#\">Read More</a>\r\n                </span>\r\n            }\r\n          </p>\r\n          <div>\r\n            {\r\n              this.props.isLoggedIn\r\n                ?\r\n                <div className={styles.editOptionsBar}>\r\n                  <Link to={`/article/${_id}/edit`}>\r\n                    <button className={styles.editOption} title='Jump to the edit page.'>\r\n                      <Icon type=\"edit\" />\r\n                    </button>\r\n                  </Link>\r\n                  <button\r\n                    className={styles.editOption}\r\n                    onClick={this.handleTagsEditableToggle}\r\n                    title='Toggle the tags edit option to modify the tags on the right side.'>\r\n                    <Icon type=\"tags\" />\r\n                  </button>\r\n                  <button className={styles.editOption} title='Notice! It will delete the article from Database.'>\r\n                    <Icon type=\"delete\" />\r\n                  </button>\r\n                </div>\r\n                : null\r\n            }\r\n          </div>\r\n          <div className={styles.tagListWrapper}>\r\n            <div className={styles.tagList}>\r\n              <EditableTagGroup tags={tags} isEditable={this.state.isTagsEditable} handleTagsUpdate={this.handleTagsUpdate}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass EditableTagGroup extends React.Component {\r\n  state = {\r\n    inputVisible: false,\r\n    inputValue: '',\r\n  };\r\n\r\n  saveInputRef = input => this.input = input;\r\n\r\n  handleClose = (removedTag) => {\r\n    const tags = this.props.tags.filter(tag => tag !== removedTag);\r\n\r\n    this.props.handleTagsUpdate(tags);\r\n  };\r\n\r\n  showInput = () => {\r\n    this.setState(\r\n      { inputVisible: true },\r\n      () => this.input.focus()\r\n    );\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleInputConfirm = () => {\r\n    const { inputValue } = this.state;\r\n    let tags = this.props.tags.slice();\r\n    if (inputValue && tags.indexOf(inputValue) === -1) {\r\n      tags = [...tags, inputValue];\r\n    }\r\n    this.setState({\r\n      inputVisible: false,\r\n      inputValue: '',\r\n    });\r\n\r\n    this.props.handleTagsUpdate(tags);\r\n  };\r\n\r\n  render() {\r\n    const { inputVisible, inputValue } = this.state;\r\n    const { tags, isEditable } = this.props;\r\n    return (\r\n      <div>\r\n        {\r\n          tags.map((tag) => {\r\n            const isLongTag = tag.length > 12;\r\n            const tagElem = (\r\n              <Tag key={tag} closable={isEditable} afterClose={() => this.handleClose(tag)}>\r\n                {isLongTag ? `${tag.slice(0, 12)}...` : tag}\r\n              </Tag>\r\n            );\r\n            return isLongTag ? <Tooltip title={tag} key={tag}>{tagElem}</Tooltip> : tagElem;\r\n          })\r\n        }\r\n        {\r\n          inputVisible && (\r\n            <Input\r\n              ref={this.saveInputRef}\r\n              type=\"text\"\r\n              size=\"small\"\r\n              className={styles.tagInput}\r\n              value={inputValue}\r\n              onChange={this.handleInputChange}\r\n              onBlur={this.handleInputConfirm}\r\n              onPressEnter={this.handleInputConfirm}\r\n            />\r\n          )\r\n        }\r\n        {\r\n          isEditable && !inputVisible && (\r\n            <Tag\r\n              onClick={this.showInput}\r\n              style={{ borderStyle: 'dashed' }}\r\n            >\r\n              <Icon type=\"plus\" /> New Tag\r\n            </Tag>\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ArticlesPage;","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport 'normalize.css/normalize.css';\n\nimport 'antd/dist/antd.css';\n\nimport './App.css';\n\nimport { GeneralHeader as Header } from './components/Header';\n\nimport ArticleEdit from './components/ArticleEdit';\nimport ArticlesPage from './components/ArticleList';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <AppRouter/>\n      </Router>\n    );\n  }\n}\n\nconst AppRouter = () => (\n  <div className=\"App\">\n    <Route exact path={'/'} component={ArticleEdit}/>\n    <Route path={'/draft'} component={DraftPage}/>\n    <Route path={'/articles'} component={ArticlesPage}/>\n    <Route path={'/article/:id/edit/'} component={ArticleEdit}/>\n    <Route path={'/user'} component={UserPage}/>\n  </div>\n);\n\nconst DraftPage = () => (\n  <div>\n    <Header/>\n    <h1>Draft Page</h1>\n  </div>\n);\n\n// const ArticlePage = () => (\n//   <div>\n//     <Header/>\n//     <ArticleList/>\n//   </div>\n// );\n\nconst UserPage = () => (\n  <div>\n    <Header/>\n    <h1>User Page</h1>\n  </div>\n);\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}